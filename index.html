<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="description" content="Praise the Heaven - A text-based idle cultivation RPG inspired by Xianxia novels." />
  <title>Praise the Heaven</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="favicon.ico" type="image/x-icon" />
</head>
<body>

  <header>
    <h1>Praise the Heaven</h1>
  </header>

  <main>
    <!-- Player Stats -->
    <div class="card">
      <h2>Stats</h2>
      <p><strong>Stage:</strong> <span id="stage">Mortal</span></p>
      <p><strong>Qi:</strong> <span id="qi">0</span></p>
      <p><strong>Spirit:</strong> <span id="spirit">1</span></p>
      <p><strong>Body Strength:</strong> <span id="bodyStrength">1</span></p>
      <p><strong>Tribulation Resistance:</strong> <span id="tribulationResistance">1</span></p>
      <p><strong>Last Saved:</strong> <span id="lastSaved">Never</span></p>
      <p><strong>Version:</strong> <span id="version">1.0.0</span></p>
    </div>

    <!-- Actions -->
    <div class="card">
      <h2>Actions</h2>
      <button onclick="gainQi()">Cultivate Manually</button>
      <button onclick="startMeditation()" id="meditateBtn">Enter Meditation</button>
      <button onclick="brewPotion()">Brew Potion</button>
      <button onclick="triggerTribulation()">Test Tribulation</button>
      <button onclick="forceSave()">Save Progress</button>
    </div>

    <!-- Battle -->
    <div class="card">
      <h2>Battle Arena</h2>
      <p><strong>Current Enemy:</strong> <span id="currentEnemy">None</span></p>
      <p><strong>Enemy HP:</strong> <span id="enemyHP">0</span></p>
      <button onclick="encounterEnemy()">Find Monster</button>
      <button onclick="attackEnemy()">Attack</button>
      <p id="battleMessage"></p>
    </div>

    <!-- Skill Panel -->
    <div class="card">
      <h2>Skills</h2>
      <div id="skillList"></div>
      <span id="skillMessage"></span>
    </div>

    <!-- Shop -->
    <div class="card">
      <h2>Spirit Market</h2>
      <button onclick="buyItem('herb')">Buy Herb (1 Spirit Stone)</button>
      <p><strong>Spirit Stones:</strong> <span id="spiritStones">0</span></p>
      <p><strong>Inventory:</strong> <span id="inventory">None</span></p>
      <span id="shopMessage"></span>
    </div>

    <!-- Leaderboard -->
    <div class="card">
      <h2>Top Cultivators</h2>
      <ol id="leaderboard">
        <li>Loading...</li>
      </ol>
    </div>

    <!-- Quest Log -->
    <div class="card questLog">
      <h2>Quests</h2>
      <div id="questLog"></div>
    </div>

    <!-- Achievement List -->
    <div class="card achievementList">
      <h2>Achievements</h2>
      <ul id="achievementLog">
        <li>No achievements yet.</li>
      </ul>
    </div>
  </main>

  <!-- Help Modal -->
  <div id="helpModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="document.getElementById('helpModal').style.display='none'">&times;</span>
      <h3 id="modalTitle"></h3>
      <p id="modalText"></p>
    </div>
  </div>

  <!-- Notification area for non-alert feedback -->
  <div id="notification" class="notification"></div>

  <footer>
    Idle Cultivation RPG by Jajang | Inspired by Xianxia Novels
  </footer>

  <script src="game.js"></script>
</body>
</html>